"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[394],{265:(e,s,t)=>{t.d(s,{A:()=>l});t(43);var a=t(224),r=t(579);const l=e=>{let{product:s,variant:t="primary"}=e;const{addItem:l,getItemQuantity:n,updateQuantity:c}=(0,a._)(),o=n(s.id),i=()=>{l(s)};return 0===o?(0,r.jsxs)("button",{onClick:i,className:"\n          ".concat("primary"===t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white hover:bg-gray-50 text-blue-600 border border-blue-600","\n          px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2\n        "),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5A2 2 0 007.83 20H16a2 2 0 001.95-1.55L19 13M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6M12 10v4m-2-2h4"})}),(0,r.jsx)("span",{children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{c(s.id,o>1?o-1:0)},className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,r.jsx)("span",{className:"w-8 text-center font-medium",children:o}),(0,r.jsx)("button",{onClick:()=>{c(s.id,o+1)},className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}},970:(e,s,t)=>{t.d(s,{A:()=>n});t(43);var a=t(47),r=t(265),l=t(579);const n=e=>{let{product:s,variant:t="default",showFullDescription:n=!1,onAddToFavorites:c=null}=e;if(!s)return null;const o=e=>{e.preventDefault(),e.stopPropagation(),c&&c(s)};return"desktop"===t?(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 h-full group",children:[(0,l.jsxs)("div",{className:"relative overflow-hidden",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-full h-72 object-cover transition-transform duration-300 group-hover:scale-110"}):(0,l.jsx)("div",{className:"w-full h-72 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,l.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:c&&(0,l.jsx)("button",{onClick:o,className:"bg-white/90 hover:bg-white text-red-500 p-2 rounded-full shadow-lg transition-all",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),0===s.stock&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,l.jsx)("span",{className:"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-3 line-clamp-2",children:s.name}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3 text-sm leading-relaxed",children:n?s.description:(0,a.EJ)(s.description,100)}),(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:(0,a.$g)(s.price)}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:s.category})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(5)].map(((e,s)=>(0,l.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s)))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 text-center block shadow-lg hover:shadow-xl",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),s.stock>0&&(0,l.jsx)(r.A,{product:s,variant:"secondary"})]})]})]}):"mobile"===t?(0,l.jsx)("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:(0,l.jsxs)("div",{className:"flex",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-24 h-24 object-cover flex-shrink-0"}):(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-200 flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,l.jsxs)("div",{className:"flex-1 p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2 text-sm",children:s.name}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:(0,a.EJ)(s.description,80)}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lg font-bold text-blue-600",children:(0,a.$g)(s.price)}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:s.category})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[s.stock>0?(0,l.jsx)(r.A,{product:s,variant:"primary"}):(0,l.jsx)("span",{className:"text-sm text-red-600",children:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"}),(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-semibold hover:bg-blue-700 transition-colors",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})]})]})]})}):(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-full h-48 object-cover"}):(0,l.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-400",children:"\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:s.name}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:(0,a.EJ)(s.description,100)}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-xl font-bold text-blue-600",children:(0,a.$g)(s.price)}),(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})]})]})}},394:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(43),r=t(364),l=t(792),n=t(970),c=t(466),o=t(579);const i=()=>{const[e,s]=(0,r.ok)(),[t,i]=(0,a.useState)(e.get("category")||""),[d,x]=(0,a.useState)(e.get("search")||""),[m,h]=(0,a.useState)(e.get("sort")||"name"),[u,g]=(0,a.useState)(e.get("priceRange")||"all"),[p,b]=(0,a.useState)(!1),{products:j,loading:v,error:f,refetch:y}=(0,l.QT)({category:t,search:d}),{categories:N}=(0,l.Ck)();(0,a.useEffect)((()=>{const e=new URLSearchParams;t&&e.set("category",t),d&&e.set("search",d),"name"!==m&&e.set("sort",m),"all"!==u&&e.set("priceRange",u),s(e)}),[t,d,m,u,s]),(0,a.useEffect)((()=>{const s=e.get("category"),a=e.get("search"),r=e.get("sort"),l=e.get("priceRange");s!==t&&i(s||""),a!==d&&x(a||""),r!==m&&h(r||"name"),l!==u&&g(l||"all")}),[e]);const w=(e=>{const s=[...e];switch(m){case"price_low":return s.sort(((e,s)=>e.price-s.price));case"price_high":return s.sort(((e,s)=>s.price-e.price));case"name":return s.sort(((e,s)=>e.name.localeCompare(s.name)));case"newest":return s.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at)));default:return s}})((e=>"all"===u?e:e.filter((e=>{const s=e.price;switch(u){case"under_1000":return s<1e3;case"1000_5000":return s>=1e3&&s<=5e3;case"5000_20000":return s>=5e3&&s<=2e4;case"over_20000":return s>2e4;default:return!0}})))(j)),k=()=>{i(""),x(""),h("name"),g("all"),s({})};return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("div",{className:"bg-white shadow-sm border-b",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),(0,o.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0434\u043b\u044f \u0441\u0435\u0431\u044f \u0448\u0438\u0440\u043e\u043a\u0438\u0439 \u0430\u0441\u0441\u043e\u0440\u0442\u0438\u043c\u0435\u043d\u0442 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"})]})})}),(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,o.jsxs)("div",{className:"flex gap-8",children:[(0,o.jsx)("div",{className:"w-80 flex-shrink-0",children:(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 sticky top-8",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,o.jsx)("button",{onClick:k,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0451"})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,o.jsx)("svg",{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,o.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,o.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),N.map((e=>(0,o.jsx)("option",{value:e,children:e},e)))]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0426\u0435\u043d\u0430"}),(0,o.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,o.jsx)("option",{value:"all",children:"\u041b\u044e\u0431\u0430\u044f \u0446\u0435\u043d\u0430"}),(0,o.jsx)("option",{value:"under_1000",children:"\u0414\u043e 1 000 \u20bd"}),(0,o.jsx)("option",{value:"1000_5000",children:"1 000 - 5 000 \u20bd"}),(0,o.jsx)("option",{value:"5000_20000",children:"5 000 - 20 000 \u20bd"}),(0,o.jsx)("option",{value:"over_20000",children:"\u0421\u0432\u044b\u0448\u0435 20 000 \u20bd"})]})]}),(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),(0,o.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,o.jsx)("option",{value:"name",children:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"}),(0,o.jsx)("option",{value:"price_low",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0435\u0448\u0451\u0432\u044b\u0435"}),(0,o.jsx)("option",{value:"price_high",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0440\u043e\u0433\u0438\u0435"}),(0,o.jsx)("option",{value:"newest",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"})]})]}),(0,o.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,o.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,o.jsxs)("span",{className:"text-sm font-medium text-blue-900",children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e \u0442\u043e\u0432\u0430\u0440\u043e\u0432: ",w.length]})]}),(0,o.jsxs)("div",{className:"text-xs text-blue-700",children:[t&&"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f: ".concat(t),d&&' \u2022 \u041f\u043e\u0438\u0441\u043a: "'.concat(d,'"')]})]})]})}),(0,o.jsx)("div",{className:"flex-1",children:v?(0,o.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,o.jsx)(c.A,{size:"large",text:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0442\u043e\u0432\u0430\u0440\u044b..."})}):f?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,o.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,o.jsx)("h3",{className:"text-lg font-semibold",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}),(0,o.jsx)("p",{className:"text-gray-600 mt-2",children:f})]}),(0,o.jsx)("button",{onClick:y,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"})]}):0===w.length?(0,o.jsx)("div",{className:"text-center py-16",children:(0,o.jsxs)("div",{className:"text-gray-400 mb-4",children:[(0,o.jsx)("svg",{className:"w-20 h-20 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),(0,o.jsx)("p",{className:"text-gray-500 mb-4",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,o.jsx)("button",{onClick:k,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})}):(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:w.map((e=>(0,o.jsx)(n.A,{product:e,variant:"desktop",onAddToFavorites:e=>console.log("Add to favorites:",e)},e.id)))})})]})})]})}},792:(e,s,t)=>{t.d(s,{$q:()=>o,Ck:()=>c,QT:()=>n});var a=t(43),r=t(495);const l="".concat("https://5ba4e4d5-4534-42bd-a52f-73984b9e639a.preview.emergentagent.com","/api"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[s,t]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null),{category:d=null,search:x=null,minPrice:m=null,maxPrice:h=null,sortBy:u=null,limit:g=null,autoFetch:p=!0}=e,b=(0,a.useCallback)((async()=>{try{c(!0),i(null);const e=new URLSearchParams;d&&e.append("category",d),x&&e.append("search",x),m&&e.append("min_price",m),h&&e.append("max_price",h),u&&e.append("sort_by",u);let s=(await r.A.get("".concat(l,"/products?").concat(e))).data;g&&(s=s.slice(0,g)),t(s)}catch(e){i(e.message),console.error("Error fetching products:",e)}finally{c(!1)}}),[d,x,m,h,u,g]);(0,a.useEffect)((()=>{p&&b()}),[b,p]);return{products:s,loading:n,error:o,refetch:(0,a.useCallback)((()=>{b()}),[b]),fetchProducts:b}},c=()=>{const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=await r.A.get("".concat(l,"/categories"));s(e.data.categories)}catch(e){o(e.message),console.error("Error fetching categories:",e)}finally{n(!1)}})()}),[]),{categories:e,loading:t,error:c}},o=()=>{const[e,s]=(0,a.useState)({}),[t,n]=(0,a.useState)(!0),[c,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=await r.A.get("".concat(l,"/categories/stats"));s(e.data.category_stats)}catch(e){o(e.message),console.error("Error fetching category stats:",e)}finally{n(!1)}})()}),[]),{categoryStats:e,loading:t,error:c}}},47:(e,s,t)=>{t.d(s,{$g:()=>a,EJ:()=>r});const a=e=>"number"!==typeof e?"0 \u20bd":new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:2}).format(e),r=(e,s)=>!e||e.length<=s?e:e.substr(0,s)+"..."}}]);
//# sourceMappingURL=394.8096adb2.chunk.js.map
"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[296],{296:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});s(43);var a=s(364),r=s(792),c=s(466),n=s(579);const l=()=>{const e=(0,a.Zp)(),{categories:t,loading:s}=(0,r.Ck)(),{products:l}=(0,r.QT)(),{categoryStats:i,loading:o}=(0,r.$q)(),d=e=>({"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u0430":"\ud83d\udcbb","\u041c\u043e\u0434\u0430 \u0438 \u0430\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044b":"\ud83d\udc57","\u041a\u0440\u0430\u0441\u043e\u0442\u0430 \u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435":"\ud83d\udc84","\u0414\u043e\u043c \u0438 \u0431\u044b\u0442":"\ud83c\udfe0","\u0421\u043f\u043e\u0440\u0442 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441":"\u26bd"}[e]||"\ud83d\udce6"),x=e=>({"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u0430":"bg-blue-500","\u041c\u043e\u0434\u0430 \u0438 \u0430\u043a\u0441\u0435\u0441\u0441\u0443\u0430\u0440\u044b":"bg-purple-500","\u041a\u0440\u0430\u0441\u043e\u0442\u0430 \u0438 \u0437\u0434\u043e\u0440\u043e\u0432\u044c\u0435":"bg-pink-500","\u0414\u043e\u043c \u0438 \u0431\u044b\u0442":"bg-green-500","\u0421\u043f\u043e\u0440\u0442 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441":"bg-orange-500"}[e]||"bg-gray-500");return s||o?(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,n.jsx)(c.A,{size:"medium",text:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438..."})}):(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("div",{className:"bg-white shadow-sm border-b sticky top-14 z-30",children:(0,n.jsxs)("div",{className:"px-4 py-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),(0,n.jsx)("p",{className:"text-gray-600 text-center text-sm",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"})]})}),(0,n.jsxs)("div",{className:"px-4 py-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[(0,n.jsx)("div",{className:"text-xl font-bold text-blue-600 mb-1",children:t.length}),(0,n.jsx)("div",{className:"text-gray-600 text-xs",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[(0,n.jsx)("div",{className:"text-xl font-bold text-green-600 mb-1",children:l.length}),(0,n.jsx)("div",{className:"text-gray-600 text-xs",children:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432"})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 text-center",children:[(0,n.jsxs)("div",{className:"text-xl font-bold text-purple-600 mb-1",children:[l.length>0?Math.round(l.reduce(((e,t)=>e+t.price),0)/l.length):0," \u20bd"]}),(0,n.jsx)("div",{className:"text-gray-600 text-xs",children:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0446\u0435\u043d\u0430"})]})]}),(0,n.jsx)("div",{className:"space-y-4 mb-8",children:t.map((t=>{const s=i[t]||{};return(0,n.jsx)("div",{onClick:()=>(t=>{e("/products?category=".concat(encodeURIComponent(t)))})(t),className:"bg-white rounded-lg shadow-sm p-4 cursor-pointer active:bg-gray-50 transition-colors",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-10 h-10 rounded-lg ".concat(x(t)," flex items-center justify-center text-white text-xl mr-3"),children:d(t)}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:t}),(0,n.jsxs)("p",{className:"text-gray-600 text-sm",children:[s.count||0," \u0442\u043e\u0432\u0430\u0440\u043e\u0432",s.count>0&&(0,n.jsxs)("span",{className:"ml-2 text-xs",children:["\u2022 \u043e\u0442 ",Math.round(s.min_price)," \u20bd"]})]})]}),(0,n.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},t)}))}),(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"\u0411\u044b\u0441\u0442\u0440\u044b\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{onClick:()=>e("/products?priceRange=under_1000"),className:"bg-white rounded-lg shadow-sm p-4 text-center cursor-pointer active:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcb0"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"\u0414\u043e 1 000 \u20bd"}),(0,n.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})]}),(0,n.jsxs)("div",{onClick:()=>e("/products?priceRange=1000_5000"),className:"bg-white rounded-lg shadow-sm p-4 text-center cursor-pointer active:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc8e"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"1 000 - 5 000 \u20bd"}),(0,n.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})]}),(0,n.jsxs)("div",{onClick:()=>e("/products?priceRange=5000_20000"),className:"bg-white rounded-lg shadow-sm p-4 text-center cursor-pointer active:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\u2b50"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"5 000 - 20 000 \u20bd"}),(0,n.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c \u0442\u043e\u0432\u0430\u0440\u044b"})]}),(0,n.jsxs)("div",{onClick:()=>e("/products?priceRange=over_20000"),className:"bg-white rounded-lg shadow-sm p-4 text-center cursor-pointer active:bg-gray-50 transition-colors",children:[(0,n.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc51"}),(0,n.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:"\u0421\u0432\u044b\u0448\u0435 20 000 \u20bd"}),(0,n.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"\u042d\u043a\u0441\u043a\u043b\u044e\u0437\u0438\u0432\u043d\u044b\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"})]})]})]})]})]})}},792:(e,t,s)=>{s.d(t,{$q:()=>i,Ck:()=>l,QT:()=>n});var a=s(43),r=s(495);const c="".concat("https://5ba4e4d5-4534-42bd-a52f-73984b9e639a.preview.emergentagent.com","/api"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,s]=(0,a.useState)([]),[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null),{category:d=null,search:x=null,minPrice:g=null,maxPrice:m=null,sortBy:h=null,limit:u=null,autoFetch:p=!0}=e,b=(0,a.useCallback)((async()=>{try{l(!0),o(null);const e=new URLSearchParams;d&&e.append("category",d),x&&e.append("search",x),g&&e.append("min_price",g),m&&e.append("max_price",m),h&&e.append("sort_by",h);let t=(await r.A.get("".concat(c,"/products?").concat(e))).data;u&&(t=t.slice(0,u)),s(t)}catch(e){o(e.message),console.error("Error fetching products:",e)}finally{l(!1)}}),[d,x,g,m,h,u]);(0,a.useEffect)((()=>{p&&b()}),[b,p]);return{products:t,loading:n,error:i,refetch:(0,a.useCallback)((()=>{b()}),[b]),fetchProducts:b}},l=()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=await r.A.get("".concat(c,"/categories"));t(e.data.categories)}catch(e){i(e.message),console.error("Error fetching categories:",e)}finally{n(!1)}})()}),[]),{categories:e,loading:s,error:l}},i=()=>{const[e,t]=(0,a.useState)({}),[s,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(async()=>{try{n(!0);const e=await r.A.get("".concat(c,"/categories/stats"));t(e.data.category_stats)}catch(e){i(e.message),console.error("Error fetching category stats:",e)}finally{n(!1)}})()}),[]),{categoryStats:e,loading:s,error:l}}}}]);
//# sourceMappingURL=296.364d095e.chunk.js.map
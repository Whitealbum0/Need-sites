"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[300],{265:(e,s,t)=>{t.d(s,{A:()=>l});t(43);var r=t(224),a=t(579);const l=e=>{let{product:s,variant:t="primary"}=e;const{addItem:l,getItemQuantity:n,updateQuantity:o}=(0,r._)(),c=n(s.id),i=()=>{l(s)};return 0===c?(0,a.jsxs)("button",{onClick:i,className:"\n          ".concat("primary"===t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-white hover:bg-gray-50 text-blue-600 border border-blue-600","\n          px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2\n        "),children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.1 5A2 2 0 007.83 20H16a2 2 0 001.95-1.55L19 13M7 13v6a2 2 0 002 2h6a2 2 0 002-2v-6M12 10v4m-2-2h4"})}),(0,a.jsx)("span",{children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>{o(s.id,c>1?c-1:0)},className:"w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),(0,a.jsx)("span",{className:"w-8 text-center font-medium",children:c}),(0,a.jsx)("button",{onClick:()=>{o(s.id,c+1)},className:"w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}},970:(e,s,t)=>{t.d(s,{A:()=>n});t(43);var r=t(47),a=t(265),l=t(579);const n=e=>{let{product:s,variant:t="default",showFullDescription:n=!1,onAddToFavorites:o=null}=e;if(!s)return null;const c=e=>{e.preventDefault(),e.stopPropagation(),o&&o(s)};return"desktop"===t?(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 h-full group",children:[(0,l.jsxs)("div",{className:"relative overflow-hidden",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-full h-72 object-cover transition-transform duration-300 group-hover:scale-110"}):(0,l.jsx)("div",{className:"w-full h-72 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,l.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:o&&(0,l.jsx)("button",{onClick:c,className:"bg-white/90 hover:bg-white text-red-500 p-2 rounded-full shadow-lg transition-all",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),0===s.stock&&(0,l.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,l.jsx)("span",{className:"bg-red-500 text-white px-4 py-2 rounded-lg font-semibold",children:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"})})]}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-xl font-semibold mb-3 line-clamp-2",children:s.name}),(0,l.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-3 text-sm leading-relaxed",children:n?s.description:(0,r.EJ)(s.description,100)}),(0,l.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:(0,r.$g)(s.price)}),(0,l.jsx)("div",{className:"text-sm text-gray-500",children:s.category})]}),(0,l.jsx)("div",{className:"flex items-center space-x-1",children:[...Array(5)].map(((e,s)=>(0,l.jsx)("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s)))})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 text-center block shadow-lg hover:shadow-xl",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),s.stock>0&&(0,l.jsx)(a.A,{product:s,variant:"secondary"})]})]})]}):"mobile"===t?(0,l.jsx)("div",{className:"bg-gray-50 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:(0,l.jsxs)("div",{className:"flex",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-24 h-24 object-cover flex-shrink-0"}):(0,l.jsx)("div",{className:"w-24 h-24 bg-gray-200 flex items-center justify-center flex-shrink-0",children:(0,l.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,l.jsxs)("div",{className:"flex-1 p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2 text-sm",children:s.name}),(0,l.jsx)("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:(0,r.EJ)(s.description,80)}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-lg font-bold text-blue-600",children:(0,r.$g)(s.price)}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:s.category})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[s.stock>0?(0,l.jsx)(a.A,{product:s,variant:"primary"}):(0,l.jsx)("span",{className:"text-sm text-red-600",children:"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438"}),(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"bg-blue-600 text-white px-3 py-2 rounded-lg text-xs font-semibold hover:bg-blue-700 transition-colors",children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})]})]})]})}):(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[s.images&&s.images.length>0?(0,l.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.images[0]),alt:s.name,className:"w-full h-48 object-cover"}):(0,l.jsx)("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-400",children:"\u041d\u0435\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:s.name}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:(0,r.EJ)(s.description,100)}),(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("span",{className:"text-xl font-bold text-blue-600",children:(0,r.$g)(s.price)}),(0,l.jsx)("a",{href:"/products/".concat(s.id),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors text-sm",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]})]})]})}},300:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var r=t(43),a=t(364),l=t(792),n=t(970),o=t(466),c=t(579);const i=()=>{const[e,s]=(0,a.ok)(),[t,i]=(0,r.useState)(e.get("category")||""),[d,h]=(0,r.useState)(e.get("search")||""),[x,m]=(0,r.useState)(e.get("sort")||"name"),[u,g]=(0,r.useState)(e.get("priceRange")||"all"),[p,b]=(0,r.useState)(!1),{products:j,loading:v,error:f,refetch:y}=(0,l.QT)({category:t,search:d}),{categories:w}=(0,l.Ck)();(0,r.useEffect)((()=>{const e=new URLSearchParams;t&&e.set("category",t),d&&e.set("search",d),"name"!==x&&e.set("sort",x),"all"!==u&&e.set("priceRange",u),s(e)}),[t,d,x,u,s]),(0,r.useEffect)((()=>{const s=e.get("category"),r=e.get("search"),a=e.get("sort"),l=e.get("priceRange");s!==t&&i(s||""),r!==d&&h(r||""),a!==x&&m(a||"name"),l!==u&&g(l||"all")}),[e]);const N=(e=>{const s=[...e];switch(x){case"price_low":return s.sort(((e,s)=>e.price-s.price));case"price_high":return s.sort(((e,s)=>s.price-e.price));case"name":return s.sort(((e,s)=>e.name.localeCompare(s.name)));case"newest":return s.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at)));default:return s}})((e=>"all"===u?e:e.filter((e=>{const s=e.price;switch(u){case"under_1000":return s<1e3;case"1000_5000":return s>=1e3&&s<=5e3;case"5000_20000":return s>=5e3&&s<=2e4;case"over_20000":return s>2e4;default:return!0}})))(j)),k=()=>{i(""),h(""),m("name"),g("all"),b(!1),s({})};return(0,c.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,c.jsx)("div",{className:"bg-white shadow-sm border-b sticky top-14 z-30",children:(0,c.jsxs)("div",{className:"px-4 py-4",children:[(0,c.jsx)("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-4",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0442\u043e\u0432\u0430\u0440\u043e\u0432"}),(0,c.jsxs)("div",{className:"relative mb-4",children:[(0,c.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),placeholder:"\u041f\u043e\u0438\u0441\u043a \u0442\u043e\u0432\u0430\u0440\u043e\u0432...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,c.jsx)("svg",{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,c.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"})}),(0,c.jsx)("span",{children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"})]}),(0,c.jsxs)("div",{className:"text-sm text-gray-600",children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",N.length," \u0442\u043e\u0432\u0430\u0440\u043e\u0432"]})]})]})}),p&&(0,c.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",children:(0,c.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-xl max-h-96 overflow-y-auto",children:(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold",children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,c.jsx)("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700",children:(0,c.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,c.jsxs)("select",{value:t,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,c.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"}),w.map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0426\u0435\u043d\u0430"}),(0,c.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,c.jsx)("option",{value:"all",children:"\u041b\u044e\u0431\u0430\u044f \u0446\u0435\u043d\u0430"}),(0,c.jsx)("option",{value:"under_1000",children:"\u0414\u043e 1 000 \u20bd"}),(0,c.jsx)("option",{value:"1000_5000",children:"1 000 - 5 000 \u20bd"}),(0,c.jsx)("option",{value:"5000_20000",children:"5 000 - 20 000 \u20bd"}),(0,c.jsx)("option",{value:"over_20000",children:"\u0421\u0432\u044b\u0448\u0435 20 000 \u20bd"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430"}),(0,c.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[(0,c.jsx)("option",{value:"name",children:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"}),(0,c.jsx)("option",{value:"price_low",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0435\u0448\u0451\u0432\u044b\u0435"}),(0,c.jsx)("option",{value:"price_high",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0440\u043e\u0433\u0438\u0435"}),(0,c.jsx)("option",{value:"newest",children:"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435"})]})]})]}),(0,c.jsxs)("div",{className:"flex space-x-3 mt-6",children:[(0,c.jsx)("button",{onClick:k,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),(0,c.jsx)("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})})}),(0,c.jsx)("div",{className:"px-4 py-6",children:v?(0,c.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,c.jsx)(o.A,{size:"medium",text:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0442\u043e\u0432\u0430\u0440\u044b..."})}):f?(0,c.jsxs)("div",{className:"text-center py-12",children:[(0,c.jsxs)("div",{className:"text-red-600 mb-4",children:[(0,c.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,c.jsx)("h3",{className:"text-lg font-semibold",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438"}),(0,c.jsx)("p",{className:"text-gray-600 mt-2 text-sm",children:f})]}),(0,c.jsx)("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"})]}):0===N.length?(0,c.jsx)("div",{className:"text-center py-16",children:(0,c.jsxs)("div",{className:"text-gray-400 mb-4",children:[(0,c.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,c.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),(0,c.jsx)("p",{className:"text-gray-500 mb-4 text-sm",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),(0,c.jsx)("button",{onClick:k,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]})}):(0,c.jsx)("div",{className:"space-y-4",children:N.map((e=>(0,c.jsx)(n.A,{product:e,variant:"mobile",onAddToFavorites:e=>console.log("Add to favorites:",e)},e.id)))})})]})}},792:(e,s,t)=>{t.d(s,{$q:()=>c,Ck:()=>o,QT:()=>n});var r=t(43),a=t(495);const l="".concat("https://5ba4e4d5-4534-42bd-a52f-73984b9e639a.preview.emergentagent.com","/api"),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[s,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[c,i]=(0,r.useState)(null),{category:d=null,search:h=null,minPrice:x=null,maxPrice:m=null,sortBy:u=null,limit:g=null,autoFetch:p=!0}=e,b=(0,r.useCallback)((async()=>{try{o(!0),i(null);const e=new URLSearchParams;d&&e.append("category",d),h&&e.append("search",h),x&&e.append("min_price",x),m&&e.append("max_price",m),u&&e.append("sort_by",u);let s=(await a.A.get("".concat(l,"/products?").concat(e))).data;g&&(s=s.slice(0,g)),t(s)}catch(e){i(e.message),console.error("Error fetching products:",e)}finally{o(!1)}}),[d,h,x,m,u,g]);(0,r.useEffect)((()=>{p&&b()}),[b,p]);return{products:s,loading:n,error:c,refetch:(0,r.useCallback)((()=>{b()}),[b]),fetchProducts:b}},o=()=>{const[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{n(!0);const e=await a.A.get("".concat(l,"/categories"));s(e.data.categories)}catch(e){c(e.message),console.error("Error fetching categories:",e)}finally{n(!1)}})()}),[]),{categories:e,loading:t,error:o}},c=()=>{const[e,s]=(0,r.useState)({}),[t,n]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{n(!0);const e=await a.A.get("".concat(l,"/categories/stats"));s(e.data.category_stats)}catch(e){c(e.message),console.error("Error fetching category stats:",e)}finally{n(!1)}})()}),[]),{categoryStats:e,loading:t,error:o}}},47:(e,s,t)=>{t.d(s,{$g:()=>r,EJ:()=>a});const r=e=>"number"!==typeof e?"0 \u20bd":new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0,maximumFractionDigits:2}).format(e),a=(e,s)=>!e||e.length<=s?e:e.substr(0,s)+"..."}}]);
//# sourceMappingURL=300.59f7f4c3.chunk.js.map